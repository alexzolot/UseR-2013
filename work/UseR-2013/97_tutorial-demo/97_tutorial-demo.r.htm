<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><link rel="shortcut icon" href="/favicon.ico">

				<!-- we need these 2 lines for the case if no Internet during the tutorial -->
				<script src="T:/mathjax-MathJax-v2.2-8-g727332c/mathjax-MathJax-727332c/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
				<script src="T:/work/UseR-2013/lib/jquery-1.10.1.min.js"></script>
				<!--  -->
                
				<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
				<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>


				<!--script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.js"></script-->
             
				 <script type="text/x-mathjax-config">  MathJax.Hub.Config({ tex2jax: { inlineMath: [[" $ "," $ "]] } }) </script>
				
				<!-- script>
					$(function(){
					//$(".imgGal").draggable() ; //.parent().resizable();
					$(".dimg").resizable().draggable(); 
					// $(".pic").draggable();  //.resizable();;
					});
				</script -->
				
				
				<script>
				$(function(){
					var d= document

				//var imgFold= "<img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/>"  // "(-)"
				var imgFold= $(".aD:first").html()

				$("img.imgGal")
					.mouseover(function() {show(this)} )
					.mouseout(function() {show(0)} )
				    .click(function() {goto(this.id.replace("tn",""))})
	                .dblclick(function() {ShowImg(this.name.replace(/\..*/, ""),  this.name.replace(/.*?\./, "")); })
				;
				$(".aD").click(function() { th= $(this)
				th.next("div").toggle();
				//alert(th.html()+ "\n" + imgFold)

				th.html(th.html()== imgFold ? "..." : imgFold)
				})
                $("#aToggleAll").click(function() {th= $(this)
		        if( th.text() =="(+)") {
		        $("div").show(); th.html(imgFold); $("a:not(.comments)").html(imgFold)   
		        } else { $("div").hide(); th.html("(+)"); $("a:not(.comments)").html("(+)")}
                })
                //   $(".aToggleAllPic").click(function() {$("img").toggle() })
				
				function toggleD(a, a2, di){ if( a.text() == "(+)") {
				di.show(); a.html(imgFold); a2.html(imgFold)  
				} else { di.hide(); a.html("(+)"); a2.html("...")}
				}
				
				function ToggleComments2(){ 
				var tt = document.getElementsByClassName("comment2"); 
				var t0= tt[0].style.fontSize;
				di= (t0 == "3px" || t0 == "") ? "12px" : ((t0 == "12px")? "1px" : "3px") ;
				fc=  di == "1px" ? "white" : "green";
				for (var i = 0; i < tt.length; i++) {tt[i].style.fontSize = di; tt[i].style.color=fc;}
				}

                $(".aToggle.DD1").click(function() {toggleD($(this), $(".H1 + + .aD"), $(".D1")) })
                $(".aToggle.DD2").click(function() {toggleD($(this), $(".H2 + + .aD"), $(".D2")) })
                $(".aToggle.DD3").click(function() {toggleD($(this), $(".H3 + + .aD"), $(".D3")) })
                $(".aToggle.DD4").click(function() {toggleD($(this), $(".H4 + + .aD"), $(".D4")) })
                $(".aToggle.TOC").click(function() {toggleD($(this), $(".zz"), $("div.TOC")) })
                $(".aToggleAllPic").click(function() {toggleD($(this), $(".zz"), $("img")) })
                $(".aToggleComments").click(function() {
					ToggleComments2(); return;

					c2= $(".comment2");	fs= c2.eq(0).css("font-size");
					var tt = document.getElementsByClassName("comment2"); var t0= tt[0].style.fontSize;
					//alert(fs + " | " + tt[0].innerHTML + " zz " + t0)
					//alert(fs + " | " + t0.innerHTML)
					//fsn= (fs == "3px" || fs == "") ? "12px" : ((fs == "12px")? "1px" : "3px");
					fsn= (fs == "30px" || fs == "") ? "120px" : ((fs == "120px")? "10px" : "30px");
					//alert(fs + " | " + tt[0].innerHTML + " t0: " + t0 + " fsn:" + fsn+ "|"+ " sp:" + $(".comment2:first + span").text())
					$("#out").text(" || fs:" +fs + " | " + tt[0].innerHTML + " t0: " + t0 + " fsn:" + fsn+ "|"+ " sp:" + $(".comment2:first + span").text());
					$(".comment2").css({"font-size": fsn, "font-size-adjust": .1});
					//$(".comment2").css("font-size", "xx-small");
					$(".comment2").text("zz");
					$(".comment2").css("color",  c2.css("font-size")== "1px" ? "white" : "green")
					})
				
				});
				</script>
				
				<script><!--
				var d= document;
				
				function goto(i) {w= d.location= "#" + i;}
				
				function ShowSVG(p){w= window.open("","","fullscreen=yes")
				w.document.write("<html><iframe src='./img/"  + p + ".svg' width=1200  height=800/></html>")
				w.focus()
				}
			    
				function ShowImg(p, capt){w= window.open("","","type=fullWindow,fullscreen,location='',height="+ screen.height+ ",width="+screen.width)
				w.document.write("<html><img src='./img/"  + p + ".png ' /><br/>" + p +  capt + "</html>")
				w.document.title= p + capt;
				w.focus()
				}
				
				function resize(i) {e=d.getElementById(i); w= e.width;
				e.style.width= (w==700)? 1000 :  (w==1000)? 1200 : (w==1200)? "100%" : 700;
				}
				
				
				function ToggleFold(d) {}
				
				
				function show(e){
				$("#show").css({display : (e==0)? "none" : "block", border: (e==0)? "0" : "2px solid blue"})
				
				if(e != 0){
                x= Math.min(e.offsetLeft+ e.width + 10, 500) //x= e.x+ e.width + 10;// ; if(x > 500) x= 500;
                y= e.offsetTop+ e.height + 10               //y= e.y+ e.height + 10
				
				$("#show").css({left: x, top: y})
				$("#showPic").attr("src", e.src)
				$("#showTxt").html("<br/>" +  e.name)  //  +  e.alt)
				
				/* show properties of e 
				a=""
				for(k in e) if(1 || e[k] > 10 && e[k]+" " < "a") a= a + "      e[" + k + "]= " + e[k];
				alert (a);
				/**/
			
				};
				}
				
				//--></script>
				
				<style>  /*  www.w3schools.com/cssref/css_colornames.asp  www.tizag.com/cssT/border.php */
				div.main {font-family: monospace; white-space: pre;}
                .D1, .D2, .D3, .D4, .D5  {background-color:rgba(255,240,240, .2); border-style:ridge; margin:5px; padding:15px;-moz-border-radius:5px; border-radius:5px} /*div {; opacity: 0.3; background-color:GhostWhite; border-left-style:ridge;}  */
				div.TOC {background-color:rgb(248,248,255); }	
				div.D5 {font-size:8px;} 
				//.sq {font-size:12px; font-family: Arial; color:DodgerBlue } 
				center, .capt {font-size:12px; font-weight:bold; font-family: Arial; margin:auto; text-align:center;}
				.captTOC {font-size:12px; font-weight:bold; font-family: Arial; align:left}
				H1,  H2,  H3,  H4,  H5 {color:blue; font-family: Arial; color:teal;}
				.H1, .H2, .H3, .H4, .H5 {color:teal; font-family: Arial; font-weight:bold;  display:inline-block; display:-moz-inline-box;}
				H1, .H1 {font-size:36px;  margin-top:36px;  margin-bottom:8px;  margin-left:0px; } 
				H2, .H2 {font-size:28px;  margin-top:28px;  margin-bottom:5px;  margin-left:20px;} 
				H3, .H3 {font-size:24px;  margin-top:15px;  margin-bottom:3px;  margin-left:40px;}
				H4, .H4 {font-size:18px;  margin-top:12px;  margin-bottom:2px;  margin-left:60px;}
				H5, .H5 {font-size:14px;  margin-top:10px;  margin-bottom:1px;  margin-left:80px;}
				img.pic, .captTOC, img.tnTOC {margin-top:0px;   margin-bottom:0px;  margin-left:80px;}
				span.captTOC, img.tnTOC { display: block;}
				.D77 { display:inline; }
				img, .aD, iframe {border-style:none; border:0}
				/* .dimg{height:90px;  display:inline-block;} /* position:fixed;  position:absolute;*/ 
                .imgGal{margin-top:1px;   margin-bottom:1px;  margin-left:1px; height:100px} /*height:100%; max-width:100%; max-height:100%; }/* position:absolute; fixed;*/ 
				
				.fun {color:indigo; font-weight:bold;}
				.comment {color:green; align:left}
				.comment2 {color: rgb(100,200,100); font-size:3px; -webkit-text-size-adjust: none;}
				.text, .sq {color: teal; font-size:12px;}
				</style>
				</head><body>
		# <a href="#" id= "aToggleAll">Fold</a> All |
				<a href="#" class= "aToggleAllPic">Toggle</a> all pics | 
				<a href="#" class= "aToggle TOC">Fold</a> contents |
				<a href="#" class= "aToggle DD2">Fold</a> H2 |
				<a href="#" class= "aToggle DD3">Fold</a> H3 |
				<a href="#" class= "aToggle DD4">Fold</a> H4 |
				<a href="#" class= "aToggleComments">ToggleComments</a> <span id="out"></span>
				<div class="TOC" id="0"> <H3>Gallery for  
T:/work/UseR-2013/97_tutorial-demo/97_tutorial-demo.r
 </H3>
<img id="tn185" class="imgGal" src="img/Pic_1.png" name="	    Pic_1. Noisy   $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ " height=100> 
<img id="tn263" class="imgGal" src="img/Pic_2.png" name="	Pic_2. Noisy  $ -x^2 $ " height=100> 
<img id="tn275" class="imgGal" src="img/Pic_3.png" name="		Pic_3. qqplot: Noisy  $ - x^2 $ " height=100> 
<img id="tn315" class="imgGal" src="img/Pic_4.png" name="	Pic_4. Pairs xyy" height=100> 
<hr/><H2>Contents</H2>
<br/><br/> <span class="comment2">#==</span> <span class="H3" id="tnTOC12" title="line 12" onClick="goto('12');">init</span> <span class="comment2"> ===</span> 
<br/><span class="comment2">#=</span><span class="H5" id="tnTOC82" title="line 82" onClick="goto('82');">  Classic Header 1</span> <span class="comment2"></span>
<br/><span class="comment2">#=</span> <span class="H4" id="tnTOC83" title="line 83" onClick="goto('83');"> Classic Header 2 </span> <span class="comment2"> =</span>
<br/><span class="comment2">#==</span> <span class="H3" id="tnTOC84" title="line 84" onClick="goto('84');"> Classic Header 3 </span> <span class="comment2"> ==</span>
<br/><span class="comment2">#===</span> <span class="H2" id="tnTOC85" title="line 85" onClick="goto('85');"> Classic Header 4 </span> <span class="comment2"> ===</span>
<br/><span class="comment2">#====</span> <span class="H1" id="tnTOC86" title="line 86" onClick="goto('86');"> Classic Header 5 </span> <span class="comment2"> =====</span>
<br/><span class="comment2">#====</span> <span class="H1" id="tnTOC89" title="line 89" onClick="goto('89');"> Demo Code2HTML() - Header 1</span> <span class="comment2"> ====</span>
<br/><span class="comment2">#===</span> <span class="H2" id="tnTOC90" title="line 90" onClick="goto('90');"> Example Header 2</span> <span class="comment2"> ===</span>
<br/><span class="comment2">#==</span> <span class="H3" id="tnTOC91" title="line 91" onClick="goto('91');"> Example Header 3 </span> <span class="comment2"> ==</span>
<br/><span class="comment2">#=</span> <span class="H4" id="tnTOC92" title="line 92" onClick="goto('92');"> Example Header 4 . Helper functions </span> <span class="comment2"> = </span>
<br/><span class="comment2">#==</span> <span class="H3" id="tnTOC138" title="line 138" onClick="goto('138');"> Code2HTML() Features: </span> <span class="comment2"> ==</span>
<br/><span class="comment2">#==</span> <span class="H3" id="tnTOC147" title="line 147" onClick="goto('147');">Eclipse + StatET vs RStudio </span> <span class="comment2"> ==</span>
<br/><br/> <span class="comment2">#===</span> <span class="H2" id="tnTOC159" title="line 159" onClick="goto('159');"> Block Header 2 </span> <span class="comment2"> === 2013-07-03 12:18:09"</span> 
<br/><br/>	 <span class="comment2">#==</span> <span class="H3" id="tnTOC162" title="line 162" onClick="goto('162');">   Block Header 3 </span> <span class="comment2"> ==  DT()  2013-06-24 13:46</span> 

								<img id="tnTOC185" title="line 185" class="tnTOC" src="img/Pic_1.png" width=400 onClick="goto(185);" ondblclick="ShowImg('Pic_1', '. Noisy   &nbsp;&nbsp; $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ ');" name="Pic_1. Noisy   $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ "/>   
								<span class="captTOC" onClick="goto('tnTOC185');" ondblclick="ShowImg('Pic_1', '. Noisy   $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ ')">	    <span class="comment"># Pic_1. Noisy   $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ &nbsp;&nbsp; </span></span>
<br/>		<span class="comment2">#=</span> <span class="H4" id="tnTOC189" title="line 189" onClick="goto('189');"> "roxigen" type comments and TODO,  Header 4 </span> <span class="comment2"> =</span>
<br/>	<span class="comment2">#==</span> <span class="H3" id="tnTOC197" title="line 197" onClick="goto('197');"> Usage of  &nbsp;&nbsp; $ \LaTeX $ &nbsp;&nbsp; and quoted multiline text </span> <span class="comment2"> == </span>
<br/><br/>	plot2= function() <span class="comment2">#==</span> <span class="H3" id="tnTOC250" title="line 250" onClick="goto('250');">   Block Header 3 - 2 - inside function definition</span> <span class="comment2"> ======================</span> 

								<img id="tnTOC263" title="line 263" class="tnTOC" src="img/Pic_2.png" width=400 onClick="goto(263);" ondblclick="ShowImg('Pic_2', '. Noisy  &nbsp;&nbsp; $ -x^2 $ ');" name="Pic_2. Noisy  $ -x^2 $ "/>   
								<span class="captTOC" onClick="goto('tnTOC263');" ondblclick="ShowImg('Pic_2', '. Noisy  $ -x^2 $ ')">	<span class="comment"># Pic_2. Noisy  $ -x^2 $ &nbsp;&nbsp; </span></span>
<br/><br/>	 <span class="comment2">#==</span> <span class="H3" id="tnTOC267" title="line 267" onClick="goto('267');"> ggplot,   Block Header 3</span> <span class="comment2"> ==</span> 

								<img id="tnTOC275" title="line 275" class="tnTOC" src="img/Pic_3.png" width=400 onClick="goto(275);" ondblclick="ShowImg('Pic_3', '. qqplot: Noisy  &nbsp;&nbsp; $ - x^2 $ ');" name="Pic_3. qqplot: Noisy  $ - x^2 $ "/>   
								<span class="captTOC" onClick="goto('tnTOC275');" ondblclick="ShowImg('Pic_3', '. qqplot: Noisy  $ - x^2 $ ')">		<span class="comment"># Pic_3. qqplot: Noisy  $ - x^2 $ &nbsp;&nbsp; </span></span>

								<img id="tnTOC315" title="line 315" class="tnTOC" src="img/Pic_4.png" width=400 onClick="goto(315);" ondblclick="ShowImg('Pic_4', '. Pairs xyy');" name="Pic_4. Pairs xyy"/>   
								<span class="captTOC" onClick="goto('tnTOC315');" ondblclick="ShowImg('Pic_4', '. Pairs xyy')">	<span class="comment"># Pic_4. Pairs xyy</span></span>
<br/><br/>	if (0)  <span class="comment2">#==</span> <span class="H3" id="tnTOC322" title="line 322" onClick="goto('322');"> Examples </span> <span class="comment2"> ==</span> 
<br/><br/>	if(1) <span class="comment2">#==</span> <span class="H3" id="tnTOC374" title="line 374" onClick="goto('374');"> rCharts  </span> <span class="comment2"> == </span> 
<br/>		<span class="comment2">#==</span> <span class="H3" id="tnTOC375" title="line 375" onClick="goto('375');">Installation of rCharts</span> <span class="comment2"> ==</span>
<br/><br/>if(0)   <span class="comment2">#==</span><span class="H5" id="tnTOC416" title="line 416" onClick="goto('416');"> Misc   (cache, parking lot)</span> <span class="comment2"></span> 
<hr/></div> <p/><br/><br/>
					<!-- pre --><div class="main">
<span class="comment">#! /usr/bin/Rscript --vanilla --slave</span>
<span class="comment"># Project  : 97_tutorial-demo</span>
<span class="comment"># File     : 97_tutorial-demo/97_tutorial-demo.r</span>
<span class="comment"># Author   : Alex Zolotoviski, azolotovitski\medio.com</span>
<span class="comment"># Created  : 2013-06-24 02:55:55</span>
<span class="comment"># License  : GPL-2  </span>
<span class="comment">###############################################################################</span>

<span class="comment">## before:  CreateNewProj(newProj.name= '97_tutorial-demo', Templ.dir= 'T:/work/UseR-2013/lib/newProjTemplName', root='T:/work/UseR-2013')</span>


{ <span class="comment2">#==</span> <span class="H3" id="12" title="line 12" onClick="goto('tn12');">init</span> <span class="comment2"> ===</span> <a href="javascript:ToggleFold('D12')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D3" id="D12">
	rm(list= ls(envir= .GlobalEnv), envir= .GlobalEnv)  <span class="comment">## clean .GlobalEnv</span>
	
	options(help='html', digits=4, width=2160, scipen=5, editor='C:\\Program Files (x86)\\Notepad++\\notepad++.exe'
			, error= NULL) <span class="comment"># options(error= recover) options(error=dump)  # or options(error=NULL)</span>

	onWin= Sys.getenv('R_PLATFORM')==''
	if(onWin){root= 'T:/work/UseR-2013'; 	memory.limit(size=9000)}  else root= '/home/azolotovitski/work'  <span class="comment"># memory.limit()</span>
	
	if(fromSrc &lt;- 1){ <a href="javascript:ToggleFold('D77')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D77">
		<span class="comment">#source(file.path(root, 'lib/zBase0.r'))  </span>
		source('T:/work/UseR-2013/lib/zBase0.r')  <span class="comment"># <font color="red">xxx: hard coded path to zBase.r</font></span>
		source('T:/work/UseR-2013/lib/zCode.r')  
		<span class="comment">#source('T:/work/UseR-2013/lib/zBase1.r')  </span>
		<span class="comment">#source('T:/work/UseR-2013/lib/zStats.r')  </span>
	} else {
		library(zBase0)
		libra(zCode)
<span class="fun">		'%+%' = function</span>(x, y) paste(x, y, sep= "")
	</div><b>}</b>

	
	libra(plyr)  <span class="comment">##  = install if necessary && require</span>

	<span class="comment">#libra(R2HTML) </span>
	<span class="comment">#libra(XLConnect)</span>
	
	<span class="comment">#	libra(Defaults)</span>
	<span class="comment">#	setDefaults(legend, bty='n')</span>
	<span class="comment">#	setDefaults(symbols, inc=.15)</span>
	
	libra(RColorBrewer)  <span class="comment"># ww(); display.brewer.all()</span>
	palette(c(adjustcolor(cn('grey50 green3 red2'), alpha.f = .9), brewer.pal(8,"Dark2")))  <span class="comment">##ex: plot(1:19, pch=16, col=1:19, cex=3)</span>
	
	<span class="comment">#libra(randomForest)</span>
	<span class="comment">#libra(plotrix)  # addtable2plot</span>
	
	libra(ggplot2)  
	<span class="comment"># libra:: Call library  ggplot2</span>
	

	<span class="comment">#libra(scales)</span>
	<span class="comment">#libra(Cairo);  </span>
	
	proot= fp(root, '97_tutorial-demo')  <span class="comment"># project root</span>
	sw(fp(proot, 'out'))
	
		
	theFile= fp(proot, '97_tutorial-demo.r')
	
	sg.bak = sg   ; sg = dummy    <span class="comment"># to rerun w/o overwrite images   </span>
	sgj.bak= sgj  ; sgj= dummy    <span class="comment"># to rerun w/o overwrite js images   </span>
	sa.bak = sa   ; sa = dummy    <span class="comment"># to rerun w/o overwrite out data </span>
	
	if(toSavePicsAndOtFiles &lt;- 0){ <a href="javascript:ToggleFold('D77')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D77">
		sg= sg.bak      
		sgj= sgj.bak    
		sa= sa.bak      
	</div><b>}</b>

	<span class="comment"># dett()   ## detach redundant packages</span>
	<span class="comment"># gff('saved:')</span>
	<span class="comment"># rmDF(); loo(); lo(); lsDF(F);</span>

</div><b>}</b> <span class="comment2">#--</span>
<span class="comment">##########################################################</span>


<span class="comment"># <font color="red">TODO: no plot init()</font></span>

<span class="comment2">#=</span><span class="H5" id="82" title="line 82" onClick="goto('tn82');">  Classic Header 1</span> <span class="comment2"></span>
<span class="comment2">#=</span> <span class="H4" id="83" title="line 83" onClick="goto('tn83');"> Classic Header 2 </span> <span class="comment2"> =</span>
<span class="comment2">#==</span> <span class="H3" id="84" title="line 84" onClick="goto('tn84');"> Classic Header 3 </span> <span class="comment2"> ==</span>
<span class="comment2">#===</span> <span class="H2" id="85" title="line 85" onClick="goto('tn85');"> Classic Header 4 </span> <span class="comment2"> ===</span>
<span class="comment2">#====</span> <span class="H1" id="86" title="line 86" onClick="goto('tn86');"> Classic Header 5 </span> <span class="comment2"> =====</span>


<span class="comment2">#====</span> <span class="H1" id="89" title="line 89" onClick="goto('tn89');"> Demo Code2HTML() - Header 1</span> <span class="comment2"> ====</span>
<span class="comment2">#===</span> <span class="H2" id="90" title="line 90" onClick="goto('tn90');"> Example Header 2</span> <span class="comment2"> ===</span>
<span class="comment2">#==</span> <span class="H3" id="91" title="line 91" onClick="goto('tn91');"> Example Header 3 </span> <span class="comment2"> ==</span>
<span class="comment2">#=</span> <span class="H4" id="92" title="line 92" onClick="goto('tn92');"> Example Header 4 . Helper functions </span> <span class="comment2"> = </span>

if(0){ <a href="javascript:ToggleFold('D77')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D77">
<span class="comment2">	#'</span><span class="text">  ===  Key points and helpers  ===</span>
 
<span class="comment2">	#'</span><span class="text">  == Create Project       <span class="comment">#  Wrapper for     </span></span>
           CreateProject()      <span class="comment">#  Create new Project</span>
           libra()              <span class="comment">#  install.packages + library()</span>
           theFile              <span class="comment">#  global variable - current R code</span>
	                               
<span class="comment2">	#'</span><span class="text">  == Remind objects:         </span>
           DT()                 <span class="comment">#  strftime(Sys.time()) - current Date and Time</span>
           st({})               <span class="comment">#  system.time + play sound - for long executed blocks</span>
           hee()                <span class="comment">#  nrow + head</span>
           sg()                 <span class="comment">#  dev.print  -  save graphics to .png file</span>
           srm()                <span class="comment">#  save & remove</span>
           <span class="comment">##  ^RV              #  copy output from console to the code</span>
	                               
<span class="comment2">	#'</span><span class="text">  == Save state:             </span>
           sa()                 <span class="comment">#  save.image</span>
           Code2HTML()          <span class="comment">#  R code theFile to html R Work Journal</span>
           MakeRWJournals()     <span class="comment">#     - the same for many R files to create</span>
           createRWJalbum()     <span class="comment">#  	 albums of galleries	</span>
           ReleaseOut()         <span class="comment">#  move all output to a DateTime-version folder before new data</span>
<span class="comment2">	#'</span><span class="text">       ///                <span class="comment">#  exit location -  mark place in the file </span></span>
	     
<span class="comment2">	#'</span><span class="text">  == Restore  state:</span>
           rmall()              <span class="comment">#  rm all</span>
           rmDF()               <span class="comment">#  rm datafames and lists</span>
           init                 <span class="comment">#  initialise environment</span>
           loo(); gff('saved:') <span class="comment">#  find saved data</span>
           lo()                 <span class="comment">#  load saved data</span>
           lsDF()               <span class="comment">#  ls  data frames</span>
	                               
<span class="comment2">	#'</span><span class="text">     Convenience, aliases <span class="comment">#  Wrapper for    </span></span>
           tocsv()              <span class="comment">#  write.csv </span>
           totsv()              <span class="comment">#  write.table</span>
           suss()               <span class="comment">#  subset + grep</span>
           gre2()               <span class="comment">#  grep</span>
           df()					<span class="comment">#  data.frame</span>
		   
<span class="comment2">	#'</span><span class="text">  == Code in top and bottom of the R file.  - "cache", "parking lot"</span>
</div><b>}</b>



<span class="comment2">#==</span> <span class="H3" id="138" title="line 138" onClick="goto('tn138');"> Code2HTML() Features: </span> <span class="comment2"> ==</span>
<span class="comment2">#'</span><span class="text">		1. Transforms .R file into  self-documented  .html file, containing all R code with output pics, headers and table of contents.</span>
<span class="comment2">#'</span><span class="text">		2. The titles in body and contents are clickable to navigate from contents to body and back.</span>
<span class="comment2">#'</span><span class="text">		3. The pics are clickable to resize.</span>
<span class="comment2">#'</span><span class="text">		4. The html file has partly R syntax highlighted.  It is possible to do the full R syntax highlighting in resulting html, but the result file becomes almost twice heavier.</span>
<span class="comment2">#'</span><span class="text">		5. Parts of the result html file could be folded.</span>
<span class="comment2">#'</span><span class="text">		6. If you in browser fold TOC, select all, copy and paste to a text editor,  you should get the pure original R file.</span>
<span class="comment2">#'</span><span class="text">		7. If you in browser select all, copy and paste to a MS Word, pics are resizable.</span>

<span class="comment2">#==</span> <span class="H3" id="147" title="line 147" onClick="goto('tn147');">Eclipse + StatET vs RStudio </span> <span class="comment2"> ==</span>
' 	Pro:
	-	Ctrl+R, V
	-   rectangular selection Alt-Shift-A
	-	Search  ^H
	-	Multi-win, monitors
	-	Also py, java, html, pig, hive, svn, git,  …
	-	Full screen view on click 
'



{ <span class="comment2">#===</span> <span class="H2" id="159" title="line 159" onClick="goto('tn159');"> Block Header 2 </span> <span class="comment2"> === 2013-07-03 12:18:09"</span> <a href="javascript:ToggleFold('D159')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D2" id="D159">

	
	{ <span class="comment2">#==</span> <span class="H3" id="162" title="line 162" onClick="goto('tn162');">   Block Header 3 </span> <span class="comment2"> ==  DT()  2013-06-24 13:46</span> <a href="javascript:ToggleFold('D162')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D3" id="D162">
		st({  <span class="comment">## looong calculation <a href="javascript:ToggleFold('D77')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D77"></span>
					for(i in 1 ){ <span class="comment">#:5e4) <a href="javascript:ToggleFold('D77')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D77">{</span>
						x= 1:1000 / 100
						y= x^2 + rnorm(le(x),, 9)
					</div><b>}</b>
		</div><b>}</b>)  <span class="comment">#   5.05</span>



		hee(df(x, y))
		<span class="comment"># 1000  rows</span>
		<span class="comment">#      x       y</span>
		<span class="comment"># 1 0.01 -1735.9</span>
		<span class="comment"># 2 0.02   757.7</span>
		<span class="comment"># 3 0.03   670.2</span>
		<span class="comment"># # he(suss(,, df(x, y), , sel= cn("x y")), 5)</span>


		ww()  <span class="comment">## open window</span>
		plot(x, y, ma= expression(Noisy ~ x^2~', ' ~ sigma ~ '= 9'))
		lines(lowess(y ~ x), lty=3, lwd=4, col=3)
		sg('Noisy x^2')

								<img id="185" title="line 185" class="pic" src="img/Pic_1.png" width=700 onClick="resize(185);" ondblclick="ShowImg('Pic_1', '. Noisy   &nbsp;&nbsp; $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ ');" name="Pic_1. Noisy   $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ "/>   
								<span class="capt" onClick="goto('tnTOC185');" ondblclick="ShowImg('Pic_1', '. Noisy   $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ ')">	    <span class="comment"># Pic_1. Noisy   $ x^2, \; \sigma= 1000 \quad ( \LaTeX ) $ &nbsp;&nbsp; </span></span>

		<span class="comment"># xPic_3. Noisy x^2   ## redundant pic</span>
		
		<span class="comment2">#=</span> <span class="H4" id="189" title="line 189" onClick="goto('tn189');"> "roxigen" type comments and TODO,  Header 4 </span> <span class="comment2"> =</span>
<span class="comment2">		#'</span><span class="text"> Some commenting text after "roxigen" type comments</span>
<span class="comment2">		#'</span><span class="text"> can be here</span>
<span class="comment2">		#'</span><span class="text"> <font color="red">xxx: We need To Do something - include funcs from zBase.r; wrong borders of block 3</font></span>
<span class="comment2">		#'</span><span class="text"> <font color="red">TODO: something else - demo for hee(), sa(), lo(), lsDF()</font></span>
	</div><b>}</b> <span class="comment2">#--</span>
	
	
	<span class="comment2">#==</span> <span class="H3" id="197" title="line 197" onClick="goto('tn197');"> Usage of  &nbsp;&nbsp; $ \LaTeX $ &nbsp;&nbsp; and quoted multiline text </span> <span class="comment2"> == </span>
	{  <a href="javascript:ToggleFold('D77')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D77">
		'
		Any text can be 
		between quotes or backticks, but if we need 
		to use &nbsp;&nbsp; $ \LaTeX $ &nbsp;&nbsp; formulae, we should use symbol "@" instead of "\\",
		including inline  &nbsp;&nbsp; $ y= 5 \sqrt{x_4^3} $ &nbsp;&nbsp; as well as stand along equations: 
		
		\begin{aligned}
		\nabla \times \vec{\mathbf{B}} - \, \frac1c\, \frac{\partial\vec{\mathbf{E}}}{\partial t} & = \frac{4\pi}{c}\vec{\mathbf{j}} \\   \nabla \cdot \vec{\mathbf{E}} & = 4 \pi \rho \\
		\nabla \times \vec{\mathbf{E}}\, + \, \frac1c\, \frac{\partial\vec{\mathbf{B}}}{\partial t} & = \vec{\mathbf{0}} \\
		\nabla \cdot \vec{\mathbf{B}} & = 0 \end{aligned}
		
		$$  g\frac{d^2u}{dx^2} + L\sin u = 0 ; \quad  \sum_{n=1}^\infty {1\over n^2} = {\pi^2\over 6}  $$
		or
		\[
		\int\limits_{x^2 + y^2 \leq R^2} f(x,y)\,dx \,dy
		= \int\limits_{\theta=0}^{2\pi}\ \int\limits_{r=0}^R f(r\cos\theta,r\sin\theta) r\,dr\,d\theta  
		\]
		or
		$$
		\int\limits_{x^3 + y^2 \leq R^2} f(x,y)\,dx \,dy
		= \int\limits_{\theta=0}^{2\pi}\ \int\limits_{r=0}^R f(r\cos\theta,r\sin\theta) r\,dr\,d\theta  
		$$
		
		'
		
<span class="sq">		`
		    or between backticks:
			<div style="font-size: 250%;">
		    $$ y = \sum{x_i^2}  $$ 
	
	        &nbsp;&nbsp; $ \href{http://www.forkosh.com/mimetextutorial.html}{try} \quad \href{http://www.codecogs.com/latex/eqneditor.php}{\LaTeX} $ &nbsp;&nbsp; 
	
			during  <a href="http://www.edii.uclm.es/~useR-2013/"> UseR! - 2013</a>
			</div>
</span>		`= 0
		
		
		<span class="comment">#	 2. Behind reqular "#" or roxigen "#'" comments we can use single "\"  </span>
		<span class="comment">#		in  &nbsp;&nbsp; $ \LaTeX $  expressions, including inline  $ y= 5 \sqrt{x_4^3} $ &nbsp;&nbsp; as well as stand alone equations. </span>
					                                                                                                                                                                                 
		
<span class="comment2">		#'</span><span class="text">			or behind roxigen "#'" comments: </span>
<span class="comment2">		#'</span><span class="text">			</span>
<span class="comment2">		#'</span><span class="text">			$$  g\frac{d^2u}{dx^2} + L\sin u = 0 ; \quad  \sum_{n=1}^\infty {1\over n^2} = {\pi^2\over 6}  $$</span>
<span class="comment2">		#'</span><span class="text">			or</span>
<span class="comment2">		#'</span><span class="text">		$$	\int\limits_{x^2 + y^2 \leq R^2} f(x,y)\,dx\,dy  = \int\limits_{\theta=0}^{2\pi}\ \int\limits_{r=0}^R f(r\cos\theta,r\sin\theta) r\,dr\,d\theta   $$</span>
		
	</div><b>}</b>



<span class="fun">	plot2= function</span>(){ <span class="comment2">#==</span> <span class="H3" id="250" title="line 250" onClick="goto('tn250');">   Block Header 3 - 2 - inside function definition</span> <span class="comment2"> ======================</span> <a href="javascript:ToggleFold('D250')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D3" id="D250">
		group &lt;&lt;- sample(cn('A B'), le(x), re=T)
		y2 &lt;&lt;- - x^2 + 20 * (group == 'B') + rnorm(le(x),, 5)
		y3 &lt;&lt;- x^2 * cos(x) + 10 * (group == 'B') + rnorm(le(x),, 2)
		
		ww()
		<span class="comment">#plot(x, y2, ma='Noisy -x^2', col= 1+ nuf(group), pch=20)</span>
		plot(x, y3, ma='Noisy x^2 * cos(x)', col= 1+ nuf(group), pch=20)
		lines(lowess(y2 ~ x), lty=3, lwd=3, col=6)
	</div><b>}</b> <span class="comment2">#--</span>
	plot2()
	
	sg('Noisy  &nbsp;&nbsp; $ -x^2 $ &nbsp;&nbsp; ',, F)

								<img id="263" title="line 263" class="pic" src="img/Pic_2.png" width=700 onClick="resize(263);" ondblclick="ShowImg('Pic_2', '. Noisy  &nbsp;&nbsp; $ -x^2 $ ');" name="Pic_2. Noisy  $ -x^2 $ "/>   
								<span class="capt" onClick="goto('tnTOC263');" ondblclick="ShowImg('Pic_2', '. Noisy  $ -x^2 $ ')">	<span class="comment"># Pic_2. Noisy  $ -x^2 $ &nbsp;&nbsp; </span></span>

	<span class="comment"># xPic_3. Noisy   &nbsp;&nbsp; $  -x^2 $ &nbsp;&nbsp; </span>
	
	{ <span class="comment2">#==</span> <span class="H3" id="267" title="line 267" onClick="goto('tn267');"> ggplot,   Block Header 3</span> <span class="comment2"> ==</span> <a href="javascript:ToggleFold('D267')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D3" id="D267">
		ww()
		str(x)
		str(y2)
		str(group)
		qplot(x, y2, col= fa(group), main='Noisy -x^2', geom=cn('point smooth'))
		<span class="comment">#  ggplot(df(x, y2), aes(x = x, y = y2)) +	geom_point()</span>
		sg('ggplot: Noisy  &nbsp;&nbsp; $ x^2 $ &nbsp;&nbsp; ', gg=T)

								<img id="275" title="line 275" class="pic" src="img/Pic_3.png" width=700 onClick="resize(275);" ondblclick="ShowImg('Pic_3', '. qqplot: Noisy  &nbsp;&nbsp; $ - x^2 $ ');" name="Pic_3. qqplot: Noisy  $ - x^2 $ "/>   
								<span class="capt" onClick="goto('tnTOC275');" ondblclick="ShowImg('Pic_3', '. qqplot: Noisy  $ - x^2 $ ')">		<span class="comment"># Pic_3. qqplot: Noisy  $ - x^2 $ &nbsp;&nbsp; </span></span>

		<span class="comment"># xPic_2. qqplot: Noisy - x^2</span>
	</div><b>}</b> <span class="comment2">#--</span>
	
	sa()
	<span class="comment"># 2013-07-03 12:39:18:: Image saved: lo('T:/work/UseR-2013/97_tutorial-demo/out/ABC.RData'); sw('T:/work/UseR-2013/97_tutorial-demo/out')  # rmDF(); lsDF(); dir(); expl()</span>

	cc()	
	
	<span class="comment">##  now we can leave the project ----</span>

	
	xyy= df(x, y1= y, y2, group)
	hee(xyy)
	<span class="comment"># 1000  rows</span>
	<span class="comment">#      x       y1      y2 group</span>
	<span class="comment"># 1 0.01  15.5917 24.7899     B</span>
	<span class="comment"># 2 0.02   3.1837  2.0923     A</span>
	<span class="comment"># 3 0.03   3.1982  7.3430     A</span>
	<span class="comment"># 4 0.04  -4.8503 30.4973     B</span>
	<span class="comment"># # he(suss(,, xyy, , sel= cn("x y1 y2 group")), 5)</span>


	hee(suss('y',, xyy, y1 &gt; 5, sel= cn("x y1 y2 group")), 5)
	<span class="comment"># 793  rows</span>
	<span class="comment">#        y1     y2</span>
	<span class="comment"># 1  15.592 24.790</span>
	<span class="comment"># 6   8.528 22.679</span>
	<span class="comment"># 8  20.299 14.569</span>
	<span class="comment"># 11  8.393 -9.475</span>
	<span class="comment"># 17 12.018 -2.363</span>



	
	ww()
	plot(xyy, col= 1+nu(xyy$group))
	mtext('Pairs',,3)
	sg('Pairs xyy')

								<img id="315" title="line 315" class="pic" src="img/Pic_4.png" width=700 onClick="resize(315);" ondblclick="ShowImg('Pic_4', '. Pairs xyy');" name="Pic_4. Pairs xyy"/>   
								<span class="capt" onClick="goto('tnTOC315');" ondblclick="ShowImg('Pic_4', '. Pairs xyy')">	<span class="comment"># Pic_4. Pairs xyy</span></span>
	

	sa('.with_xyy')  <span class="comment">##  xyy is large and rare used</span>
	<span class="comment"># 2013-07-04 19:25:54:: Image saved: lo('T:/work/UseR-2013/97_tutorial-demo/out/.with_xyy.RData'); sw('T:/work/UseR-2013/97_tutorial-demo/out')  # rmDF(); lsDF(); dir(); expl()</span>
	

	if (0) { <span class="comment2">#==</span> <span class="H3" id="322" title="line 322" onClick="goto('tn322');"> Examples </span> <span class="comment2"> ==</span> <a href="javascript:ToggleFold('D322')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D3" id="D322">
		
		ca= cars
		co= CO2
		ir= iris
		ba= plyr::baseball
		
		lsDF(0)
		
<span class="comment2">		#'</span><span class="text">     Convenience, aliases  <span class="comment">#  Wrapper for    </span></span>
		tocsv(ca)               <span class="comment">#  write.csv </span>
		totsv(co)               <span class="comment">#  write.table</span>
		na(ir)                  <span class="comment">#  names</span>
		nc(ir)                  <span class="comment">#  paste names</span>
		suss('^S', 'W', ir, Sepal.Length >5) <span class="comment">#  subset + grep(names())</span>
		hee(srt(suss('^S', 'W', ir, Sepal.Length >5), ~- Sepal.Length))<span class="comment">#  head + order + suss</span>
		
		na(ba)                  <span class="comment">#  names</span>
		hee(ba)
		<span class="comment"># 21699  rows</span>
		<span class="comment">#            id year stint team lg  g  ab  r  h X2b X3b hr rbi sb cs bb so ibb hbp sh sf gidp</span>
		<span class="comment"># 4   ansonca01 1871     1  RC1    25 120 29 39  11   3  0  16  6  2  2  1  NA  NA NA NA   NA</span>
		<span class="comment"># 44  forceda01 1871     1  WS3    32 162 45 45   9   4  0  29  8  0  4  0  NA  NA NA NA   NA</span>
		<span class="comment"># 68  mathebo01 1871     1  FW1    19  89 15 24   3   1  0  10  2  1  2  0  NA  NA NA NA   NA</span>
		<span class="comment"># # he(suss(,, ba, , sel= cn("id year stint team lg g ab r h X2b X3b hr rbi sb cs bb so ibb hbp sh sf gidp")), 5)</span>
        
	    xx= ncc('id|g|b$', 'X', ba)  <span class="comment"># paste + gre + colnames </span>
		<span class="comment"># [1] "id lg g ab sb bb ibb gidp"</span>
	
	    cn(xx)                       <span class="comment"># strsplit </span>
		<span class="comment"># [1] "id"   "lg"   "g"    "ab"   "sb"   "bb"   "ibb"  "gidp"</span>



		hee(srt(suss('id|g|b$', 'X', ba, g >160), ~id))  <span class="comment">#  head + order + suss</span>
		<span class="comment"># 220  rows</span>
		<span class="comment">#              id lg   g  ab sb bb ibb gidp</span>
		<span class="comment"># 43076 aaronha01 NL 161 631 31 78  18   11</span>
		<span class="comment"># 43826 allendi01 NL 162 632  3 67  13    8</span>
		<span class="comment"># 44582 allendi01 NL 161 619 15 74   6   13</span>
		<span class="comment"># 68530 alomaro01 AL 161 637 53 57   3    5</span>
		<span class="comment"># 48170 alomasa01 AL 162 672 35 49   2    7</span>
		<span class="comment"># 49084 alomasa01 AL 162 689 39 41   4    7</span>
		<span class="comment"># 47712  alouma01 NL 162 698 22 42   9    5</span>
		<span class="comment"># 69623 baergca01 AL 161 657 10 35  10   15</span>
		<span class="comment"># 70191 bagweje01 NL 162 586 10 84  13   17</span>
		<span class="comment"># # he(suss(,, srt(suss("id|g|b$", "X", ba, g > 160), ~id), , sel= cn("id lg g ab sb bb ibb gidp")), 5)</span>

		gre2()                <span class="comment">#  grep</span>
		
	</div><b>}</b>
	
	if(1){ <span class="comment2">#==</span> <span class="H3" id="374" title="line 374" onClick="goto('tn374');"> rCharts  </span> <span class="comment2"> == </span> <a href="javascript:ToggleFold('D374')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D3" id="D374">
		<span class="comment2">#==</span> <span class="H3" id="375" title="line 375" onClick="goto('tn375');">Installation of rCharts</span> <span class="comment2"> ==</span>
		<span class="comment"># libra(devtools)</span>
		<span class="comment">#		package 'brew' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'formatR' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'markdown' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'httr' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'RCurl' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'memoise' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'whisker' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'roxygen2' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'knitr' successfully unpacked and MD5 sums checked</span>
		<span class="comment">#		package 'devtools' successfully unpacked and MD5 sums checked</span>
		
		<span class="comment"># install_github('rCharts', 'ramnathv')  # nOK</span>
		
		<span class="comment"># libra(RJSONIO)</span>
		<span class="comment"># libra(yaml)</span>
		<span class="comment">#  C:\>z\eclipse\R-2.14.2\bin\x64\R.exe  --vanilla CMD INSTALL C:\Users\azolotovitski\Downloads\rCharts-master\rCharts-master</span>
	
		
		require(rCharts)
		p1 <- hPlot(y2 ~ x,  size="x", group="group", data=xyy, type = "line", dom='zzz', title = "rChart", subtitle = "xyy, by group")  <span class="comment"># http://www.polychartjs.com/demo?bubble_chart</span>
		p1$chart(zoomType = "xy")
		p1$show()
		
		HHjp(, "rCharts xyy, by group")


 <iframe src="img/jPic_1.htm" width="100%" height="600px"></iframe>

 		<span class="comment"># jPic_1. rCharts xyy, by group</span>
		
	</div><b>}</b>
	
	 cc()
	 expl("file://T:/work/UseR-2013/97_tutorial-demo/97_tutorial-demo.r.htm")

	
	
</div><b>}</b> <span class="comment2">#--</span>





if(0){   <span class="comment2">#==</span><span class="H5" id="416" title="line 416" onClick="goto('tn416');"> Misc   (cache, parking lot)</span> <span class="comment2"></span> <a href="javascript:ToggleFold('D416')" class="aD"><img src='https://ui.netbeans.org/docs/ui/code_folding/cf_minus.gif'/></a><div class="D5" id="D416">
	theFile= 'T:/work/UseR-2013/97_tutorial-demo/97_tutorial-demo.r'
	gff('saved', theFile)
	gff('sa\\(|===', theFile)
	
	theFile= fp(proot, '97_tutorial-demo.r')
	
	CreateNewProj(newProj.name= '95_abc', Templ.dir= 'T:/work/UseR-2013/lib/newProjTemplName', root='T:/work/UseR-2013')
	cc()
	ReleaseOut(vers='.b', exec= T)
	ReleaseOut(vers='', exec= T)
	
	source(theFile)
</div><b>}</b> <span class="comment2">#--</span>
</div><!-- /pre --><br>##   The HTML output of 
T:/work/UseR-2013/97_tutorial-demo/97_tutorial-demo.r
 was created on 
2013-07-05 12:42:29
; <a href="http://www.mathjax.org/demos/scaling-math/">test MathJax </a>
<div id= "show" style= "position: absolute; left:-1000px; top:1px; border:solid blue; padding:5; display:none; background-color:white; -moz-border-radius: 10px; border-radius: 10px;">
				<img id="showPic" src="" height="400px" style="left:0px"/><br/>
				<span id="showTxt"></span>
				</div></body></html>
